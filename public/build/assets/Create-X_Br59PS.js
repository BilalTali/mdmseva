import{u as f,j as e,H as _,L as u}from"./app-D5PU4Bsy.js";import{A as j}from"./AuthenticatedLayout-D5Ymgcdy.js";import{C as N}from"./calendar-CvKTGeSx.js";import{P as v}from"./plus-C_1XtNe6.js";import{A as w}from"./arrow-left-BxlpsDMf.js";import"./transition-D0ghav8l.js";import"./AuthLogo-E-8NJw9p.js";import"./SupportChatWidget-BWCam85T.js";import"./createLucideIcon-CfSDZJ_3.js";function D({auth:m,month:l,year:d,previousConfig:g,suggestedOpening:n,schoolTypes:x,carriedBalance:c=null,userSchoolType:k}){const o=["January","February","March","April","May","June","July","August","September","October","November","December"],{data:s,setData:i,post:h,processing:p,errors:a}=f({month:l,year:d,school_type:m.user.school_type||"primary",daily_consumption_primary:100,daily_consumption_upper_primary:150,opening_balance_primary:c?.primary??(n.primary||0),opening_balance_upper_primary:c?.upper_primary??(n.upper_primary||0),rice_lifted_primary:0,rice_lifted_upper_primary:0,rice_arranged_primary:0,rice_arranged_upper_primary:0}),t=()=>s.school_type!=="primary",y=r=>{r.preventDefault(),h(route("monthly-rice-config.store"))};return e.jsxs(j,{user:m.user,header:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:["Create Rice Configuration - ",o[l-1]," ",d]}),e.jsxs(u,{href:route("monthly-rice-config.index"),className:"inline-flex items-center px-4 py-2 bg-gray-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-gray-700",children:[e.jsx(w,{className:"w-4 h-4 mr-2"}),"Back"]})]}),children:[e.jsx(_,{title:`Create Configuration - ${o[l-1]} ${d}`}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"max-w-4xl mx-auto sm:px-6 lg:px-8",children:e.jsxs("form",{onSubmit:y,className:"space-y-6",children:[e.jsxs("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg p-6",children:[e.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[e.jsx(N,{className:"w-5 h-5 mr-2"}),"Period Information"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Month"}),e.jsx("input",{type:"text",value:o[l-1],disabled:!0,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm bg-gray-50"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Year"}),e.jsx("input",{type:"text",value:d,disabled:!0,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm bg-gray-50"})]})]})]}),e.jsxs("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"School Configuration"}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"School Type"}),e.jsx("select",{value:s.school_type,onChange:r=>i("school_type",r.target.value),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:Object.entries(x).map(([r,b])=>e.jsx("option",{value:r,children:b},r))}),a.school_type&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.school_type})]})})]}),e.jsxs("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Daily Consumption Rates (grams per student)"}),e.jsxs("div",{className:`grid ${t()?"grid-cols-2":"grid-cols-1"} gap-4`,children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Primary (Grades 1-5)"}),e.jsx("input",{type:"number",value:s.daily_consumption_primary,onChange:r=>i("daily_consumption_primary",parseInt(r.target.value)),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-indigo-500 focus:ring-indigo-500",min:"0",max:"500"}),a.daily_consumption_primary&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.daily_consumption_primary})]}),t()&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Middle (Grades 6-8)"}),e.jsx("input",{type:"number",value:s.daily_consumption_upper_primary,onChange:r=>i("daily_consumption_upper_primary",parseInt(r.target.value)),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-indigo-500 focus:ring-indigo-500",min:"0",max:"500"}),a.daily_consumption_upper_primary&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.daily_consumption_upper_primary})]})]})]}),e.jsxs("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Opening Balance (kg)"}),g&&e.jsxs("div",{className:"mb-4 p-4 bg-green-50 border-l-4 border-green-500 rounded-md",children:[e.jsxs("p",{className:"text-sm text-green-800 font-medium mb-1",children:["✓ Auto-filled from ",o[(l===1?12:l-1)-1]," ",l===1?d-1:d,":"]}),e.jsxs("div",{className:"text-sm text-green-700",children:[e.jsxs("span",{children:["Primary: ",e.jsxs("strong",{children:[n.primary," kg"]})]}),t()&&e.jsxs("span",{className:"ml-4",children:["Middle: ",e.jsxs("strong",{children:[n.upper_primary," kg"]})]})]}),e.jsx("p",{className:"text-xs text-green-600 mt-1",children:"✎ You can edit these values if needed"})]}),e.jsxs("div",{className:`grid ${t()?"grid-cols-2":"grid-cols-1"} gap-4`,children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Primary (kg)"}),e.jsx("input",{type:"number",step:"0.01",value:s.opening_balance_primary,onChange:r=>i("opening_balance_primary",parseFloat(r.target.value)),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-indigo-500 focus:ring-indigo-500"}),a.opening_balance_primary&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.opening_balance_primary})]}),t()&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Middle (kg)"}),e.jsx("input",{type:"number",step:"0.01",value:s.opening_balance_upper_primary,onChange:r=>i("opening_balance_upper_primary",parseFloat(r.target.value)),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-indigo-500 focus:ring-indigo-500"}),a.opening_balance_upper_primary&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.opening_balance_upper_primary})]})]})]}),e.jsxs("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Rice Lifted (kg) - Optional"}),e.jsxs("div",{className:`grid ${t()?"grid-cols-2":"grid-cols-1"} gap-4`,children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Primary (kg)"}),e.jsx("input",{type:"number",step:"0.01",value:s.rice_lifted_primary,onChange:r=>i("rice_lifted_primary",parseFloat(r.target.value)||0),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),t()&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Middle (kg)"}),e.jsx("input",{type:"number",step:"0.01",value:s.rice_lifted_upper_primary,onChange:r=>i("rice_lifted_upper_primary",parseFloat(r.target.value)||0),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]})]})]}),e.jsxs("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Rice Arranged (kg) - Optional"}),e.jsxs("div",{className:`grid ${t()?"grid-cols-2":"grid-cols-1"} gap-4`,children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Primary (kg)"}),e.jsx("input",{type:"number",step:"0.01",value:s.rice_arranged_primary,onChange:r=>i("rice_arranged_primary",parseFloat(r.target.value)||0),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),t()&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Middle (kg)"}),e.jsx("input",{type:"number",step:"0.01",value:s.rice_arranged_upper_primary,onChange:r=>i("rice_arranged_upper_primary",parseFloat(r.target.value)||0),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx(u,{href:route("monthly-rice-config.index"),className:"inline-flex items-center px-4 py-2 bg-gray-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-gray-700",children:"Cancel"}),e.jsxs("button",{type:"submit",disabled:p,className:"inline-flex items-center px-4 py-2 bg-indigo-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-indigo-700 disabled:opacity-50",children:[e.jsx(v,{className:"w-4 h-4 mr-2"}),p?"Creating...":"Create Configuration"]})]})]})})})]})}export{D as default};
