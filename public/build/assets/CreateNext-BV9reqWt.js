import{u as b,j as e,H as f,L as u}from"./app-B7rG-o2v.js";import{A as _}from"./AuthenticatedLayout-DsY28lw4.js";import{C as j}from"./calendar-BQDWq3AD.js";import{P as N}from"./plus-D7aV_wba.js";import{A as v}from"./arrow-left-fowYefcx.js";import"./transition-rTlxp94F.js";import"./AuthLogo-BstlY2F2.js";import"./SupportChatWidget-BH2cX72p.js";import"./createLucideIcon-htJommDS.js";function O({auth:c,lastCompleted:d,nextMonth:l,nextYear:n,carriedBalance:o,schoolTypes:g,userSchoolType:w}){const m=["January","February","March","April","May","June","July","August","September","October","November","December"],{data:s,setData:i,post:x,processing:p,errors:a}=b({month:l,year:n,school_type:c.user.school_type||"primary",daily_consumption_primary:d.daily_consumption_primary,daily_consumption_upper_primary:d.daily_consumption_upper_primary,opening_balance_primary:o.primary,opening_balance_upper_primary:o.upper_primary,rice_lifted_primary:0,rice_lifted_upper_primary:0,rice_arranged_primary:0,rice_arranged_upper_primary:0}),t=()=>s.school_type!=="primary",h=r=>{r.preventDefault(),x(route("monthly-rice-config.store-next"))};return e.jsxs(_,{user:c.user,header:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:["Create Rice Configuration - ",m[l-1]," ",n]}),e.jsxs(u,{href:route("monthly-rice-config.index"),className:"inline-flex items-center px-4 py-2 bg-gray-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-gray-700",children:[e.jsx(v,{className:"w-4 h-4 mr-2"}),"Back"]})]}),children:[e.jsx(f,{title:`Create Configuration - ${m[l-1]} ${n}`}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"max-w-4xl mx-auto sm:px-6 lg:px-8",children:e.jsxs("form",{onSubmit:h,className:"space-y-6",children:[e.jsxs("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg p-6",children:[e.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[e.jsx(j,{className:"w-5 h-5 mr-2"}),"Period Information"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Month"}),e.jsx("input",{type:"text",value:m[l-1],disabled:!0,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm bg-gray-50"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Year"}),e.jsx("input",{type:"text",value:n,disabled:!0,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm bg-gray-50"})]})]})]}),e.jsxs("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"School Configuration"}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"School Type"}),e.jsx("select",{value:s.school_type,onChange:r=>i("school_type",r.target.value),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:Object.entries(g).map(([r,y])=>e.jsx("option",{value:r,children:y},r))}),a.school_type&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.school_type})]})})]}),e.jsxs("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Daily Consumption Rates (grams per student)"}),e.jsxs("div",{className:`grid ${t()?"grid-cols-2":"grid-cols-1"} gap-4`,children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Primary (Grades 1-5)"}),e.jsx("input",{type:"number",value:s.daily_consumption_primary,onChange:r=>i("daily_consumption_primary",parseInt(r.target.value)),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-indigo-500 focus:ring-indigo-500",min:"0",max:"500"}),a.daily_consumption_primary&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.daily_consumption_primary})]}),t()&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Middle (Grades 6-8)"}),e.jsx("input",{type:"number",value:s.daily_consumption_upper_primary,onChange:r=>i("daily_consumption_upper_primary",parseInt(r.target.value)),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-indigo-500 focus:ring-indigo-500",min:"0",max:"500"}),a.daily_consumption_upper_primary&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.daily_consumption_upper_primary})]})]})]}),e.jsxs("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Opening Balance (kg)"}),e.jsxs("div",{className:"mb-4 p-4 bg-green-50 border-l-4 border-green-500 rounded-md",children:[e.jsxs("p",{className:"text-sm text-green-800 font-medium mb-1",children:["✓ Auto-filled from ",m[d.month-1]," ",d.year," Closing Balance:"]}),e.jsxs("div",{className:"text-sm text-green-700",children:[e.jsxs("span",{children:["Primary: ",e.jsxs("strong",{children:[o.primary," kg"]})]}),t()&&e.jsxs("span",{className:"ml-4",children:["Middle: ",e.jsxs("strong",{children:[o.upper_primary," kg"]})]})]}),e.jsx("p",{className:"text-xs text-green-600 mt-1",children:"✎ You can edit these values if needed"})]}),e.jsxs("div",{className:`grid ${t()?"grid-cols-2":"grid-cols-1"} gap-4`,children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Primary (kg)"}),e.jsx("input",{type:"number",step:"0.01",value:s.opening_balance_primary,onChange:r=>i("opening_balance_primary",parseFloat(r.target.value)),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-indigo-500 focus:ring-indigo-500"}),a.opening_balance_primary&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.opening_balance_primary})]}),t()&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Middle (kg)"}),e.jsx("input",{type:"number",step:"0.01",value:s.opening_balance_upper_primary,onChange:r=>i("opening_balance_upper_primary",parseFloat(r.target.value)),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-indigo-500 focus:ring-indigo-500"}),a.opening_balance_upper_primary&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.opening_balance_upper_primary})]})]})]}),e.jsxs("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Rice Lifted (kg) - Optional"}),e.jsxs("div",{className:`grid ${t()?"grid-cols-2":"grid-cols-1"} gap-4`,children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Primary (kg)"}),e.jsx("input",{type:"number",step:"0.01",value:s.rice_lifted_primary,onChange:r=>i("rice_lifted_primary",parseFloat(r.target.value)||0),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),t()&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Middle (kg)"}),e.jsx("input",{type:"number",step:"0.01",value:s.rice_lifted_upper_primary,onChange:r=>i("rice_lifted_upper_primary",parseFloat(r.target.value)||0),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]})]})]}),e.jsxs("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Rice Arranged (kg) - Optional"}),e.jsxs("div",{className:`grid ${t()?"grid-cols-2":"grid-cols-1"} gap-4`,children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Primary (kg)"}),e.jsx("input",{type:"number",step:"0.01",value:s.rice_arranged_primary,onChange:r=>i("rice_arranged_primary",parseFloat(r.target.value)||0),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),t()&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Middle (kg)"}),e.jsx("input",{type:"number",step:"0.01",value:s.rice_arranged_upper_primary,onChange:r=>i("rice_arranged_upper_primary",parseFloat(r.target.value)||0),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx(u,{href:route("monthly-rice-config.index"),className:"inline-flex items-center px-4 py-2 bg-gray-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-gray-700",children:"Cancel"}),e.jsxs("button",{type:"submit",disabled:p,className:"inline-flex items-center px-4 py-2 bg-indigo-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-indigo-700 disabled:opacity-50",children:[e.jsx(N,{className:"w-4 h-4 mr-2"}),p?"Creating...":"Create Configuration"]})]})]})})})]})}export{O as default};
