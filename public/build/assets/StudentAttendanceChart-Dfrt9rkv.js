import{j as t}from"./app-B9edM2Qa.js";import{y as c,z as x}from"./CategoricalChart-CJ_MOJCz.js";import{A as f,a as n}from"./AreaChart-D2oOJtzs.js";import{C as m,X as h,Y as j}from"./CartesianChart-_u0wAFum.js";import{L as y}from"./Legend-CHQlJkFt.js";import"./clsx-B-dksMZM.js";import"./index-BiXu7ZCQ.js";import"./with-selector-Je2ki62-.js";import"./ActivePoints-0lNsF0y6.js";import"./ReactUtils-M0cQPB63.js";import"./getRadiusAndStrokeWidthFromDot-V1FQjaVQ.js";const D=({data:i=[],schoolType:u="both"})=>{const e={text:"#475569",grid:"#e2e8f0",axis:"#94a3b8",tooltipBg:"#ffffff",tooltipBorder:"#e2e8f0",tooltipText:"#0f172a",tooltipLabel:"#475569"},d=s=>{if(!s)return"";const r=new Date(s),l=r.getDate().toString().padStart(2,"0"),o=(r.getMonth()+1).toString().padStart(2,"0");return`${l}/${o}`},a=i.map(s=>({...s,displayDate:d(s.date),total_students:parseFloat(s.total_students)||0,present_students:parseFloat(s.present_students)||0,primary_present:parseFloat(s.primary_present)||0,middle_present:parseFloat(s.middle_present)||0,attendance_rate:((parseFloat(s.present_students)||0)/(parseFloat(s.total_students)||1)*100).toFixed(1)})),p=({active:s,payload:r,label:l})=>{if(s&&r&&r.length){const o=r[0].payload;return t.jsxs("div",{className:"p-4 rounded-lg shadow-xl border-2",style:{backgroundColor:e.tooltipBg,borderColor:e.tooltipBorder},children:[t.jsxs("p",{className:"font-bold mb-3 pb-2 border-b",style:{color:e.tooltipText,borderColor:e.tooltipBorder},children:["ðŸ“… ",l]}),t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("div",{className:"flex justify-between gap-6",children:[t.jsx("span",{style:{color:e.tooltipLabel},children:"Total Students:"}),t.jsx("span",{className:"font-semibold",style:{color:e.tooltipText},children:o.total_students})]}),t.jsxs("div",{className:"flex justify-between gap-6",children:[t.jsx("span",{style:{color:e.tooltipLabel},children:"Present Students:"}),t.jsx("span",{className:"font-semibold text-[var(--color-success)]",children:o.present_students})]}),o.primary_present>0&&t.jsxs("div",{className:"flex justify-between gap-6",children:[t.jsx("span",{className:"text-[var(--color-info)]",children:"Primary Present:"}),t.jsx("span",{className:"font-semibold text-[var(--color-info)]",children:o.primary_present})]}),o.middle_present>0&&t.jsxs("div",{className:"flex justify-between gap-6",children:[t.jsx("span",{className:"text-[var(--primary-600)]",children:"Middle Present:"}),t.jsx("span",{className:"font-semibold text-[var(--primary-600)]",children:o.middle_present})]}),t.jsx("div",{className:"pt-2 border-t",style:{borderColor:e.tooltipBorder},children:t.jsxs("div",{className:"flex justify-between gap-4 font-bold",children:[t.jsx("span",{style:{color:e.tooltipText},children:"Attendance Rate:"}),t.jsxs("span",{className:"text-[var(--color-success)]",children:[o.attendance_rate,"%"]})]})})]})]})}return null};return!a||a.length===0?null:t.jsx(c,{width:"100%",height:"100%",children:t.jsxs(f,{data:a,margin:{top:10,right:30,left:20,bottom:60},children:[t.jsxs("defs",{children:[t.jsxs("linearGradient",{id:"colorTotal",x1:"0",y1:"0",x2:"0",y2:"1",children:[t.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.3}),t.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:0})]}),t.jsxs("linearGradient",{id:"colorPresent",x1:"0",y1:"0",x2:"0",y2:"1",children:[t.jsx("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.4}),t.jsx("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:0})]})]}),t.jsx(m,{strokeDasharray:"3 3",stroke:e.grid,vertical:!1}),t.jsx(h,{dataKey:"displayDate",stroke:e.axis,style:{fontSize:"12px",fontWeight:"500"},angle:-45,textAnchor:"end",height:80,tick:{fill:e.text}}),t.jsx(j,{stroke:e.axis,style:{fontSize:"12px",fontWeight:"500"},tick:{fill:e.text},label:{value:"Students",angle:-90,position:"insideLeft",style:{fontSize:"13px",fill:e.text,fontWeight:"600"}}}),t.jsx(x,{content:t.jsx(p,{})}),t.jsx(y,{wrapperStyle:{color:e.text}}),t.jsx(n,{type:"monotone",dataKey:"total_students",stroke:"#3b82f6",fill:"url(#colorTotal)",strokeWidth:2,name:"Total Students"}),t.jsx(n,{type:"monotone",dataKey:"present_students",stroke:"#10b981",fill:"url(#colorPresent)",strokeWidth:3,name:"Present Students"})]})})};export{D as default};
