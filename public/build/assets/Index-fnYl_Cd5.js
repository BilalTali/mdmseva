import{r as m,j as e,H as M,L as i,a as h}from"./app-CsYsEJej.js";import{A as S}from"./AdminLayout-Ej69H2OJ.js";import{M as p}from"./SupportChatWidget-BqMpaivd.js";import{C}from"./clock-BQbxZYpo.js";import{C as A}from"./circle-alert-Bq2Yy1ho.js";import{C as I}from"./circle-check-big-BV49VQvH.js";import{S as L}from"./AuthenticatedLayout-B6Y-dB0A.js";import{c}from"./createLucideIcon-DQfYwHjk.js";import{S as $}from"./star-CV7rP6x4.js";import{E as R}from"./eye-BKG85qK2.js";import"./transition-mBUwcw_M.js";import"./AuthLogo-BIIIqCR0.js";/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=[["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M14 7a4 4 0 0 1 4 4v3a6 6 0 0 1-12 0v-3a4 4 0 0 1 4-4z",key:"uouzyp"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M21 21a4 4 0 0 0-3.81-4",key:"1b0z45"}],["path",{d:"M21 5a4 4 0 0 1-3.55 3.97",key:"5cxbf6"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M3 21a4 4 0 0 1 3.81-4",key:"1fjd4g"}],["path",{d:"M3 5a4 4 0 0 0 3.55 3.97",key:"1d7oge"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M9 7.13V6a3 3 0 1 1 6 0v1.13",key:"1vgav8"}]],F=c("bug",q);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],z=c("circle-question-mark",T);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],H=c("lightbulb",B);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=[["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}],["path",{d:"m9 17-5-5 5-5",key:"nvlc11"}]],D=c("reply",P),E=t=>{if(typeof t!="string")return"";const a=document.createElement("textarea");return a.innerHTML=t,a.value.replace(/<[^>]*>/g,"")};function te({feedback:t,stats:a,filters:l}){const[n,d]=m.useState([]),[G,j]=m.useState(!1),[u,b]=m.useState(l.search||""),f={new:"bg-blue-100 text-blue-800",in_progress:"bg-yellow-100 text-yellow-800",resolved:"bg-green-100 text-green-800",closed:"bg-gray-100 text-gray-800"},v={low:"bg-green-100 text-green-800",medium:"bg-yellow-100 text-yellow-800",high:"bg-orange-100 text-orange-800",urgent:"bg-red-100 text-red-800"},N={general:p,bug_report:F,feature_request:H,support:z},w=s=>{s.preventDefault(),h.get(route("admin.feedback.index"),{...l,search:u},{preserveState:!0})},o=(s,r)=>{h.get(route("admin.feedback.index"),{...l,[s]:r===l[s]?null:r},{preserveState:!0})},x=s=>{n.length!==0&&h.post(route("admin.feedback.bulk-update"),{feedback_ids:n,action:s},{onSuccess:()=>{d([]),j(!1)}})},k=()=>{n.length===t.data.length?d([]):d(t.data.map(s=>s.id))},_=s=>{d(r=>r.includes(s)?r.filter(g=>g!==s):[...r,s])};return e.jsxs(S,{children:[e.jsx(M,{title:"Feedback Management"}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex justify-between items-center",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Feedback Management"}),e.jsx("p",{className:"text-gray-600",children:"Manage user feedback and support requests"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsx("div",{className:"bg-white rounded-lg p-6 shadow-sm border",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Feedback"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:a.total})]}),e.jsx(p,{className:"w-8 h-8 text-blue-600"})]})}),e.jsx("div",{className:"bg-white rounded-lg p-6 shadow-sm border",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"New"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:a.new})]}),e.jsx(C,{className:"w-8 h-8 text-blue-600"})]})}),e.jsx("div",{className:"bg-white rounded-lg p-6 shadow-sm border",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"In Progress"}),e.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:a.in_progress})]}),e.jsx(A,{className:"w-8 h-8 text-yellow-600"})]})}),e.jsx("div",{className:"bg-white rounded-lg p-6 shadow-sm border",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Resolved"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:a.resolved})]}),e.jsx(I,{className:"w-8 h-8 text-green-600"})]})})]}),e.jsx("div",{className:"bg-white rounded-lg p-6 shadow-sm border",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsx("form",{onSubmit:w,className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(L,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx("input",{type:"text",placeholder:"Search feedback...",value:u,onChange:s=>b(s.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("select",{value:l.status||"",onChange:s=>o("status",s.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"All Status"}),e.jsx("option",{value:"new",children:"New"}),e.jsx("option",{value:"in_progress",children:"In Progress"}),e.jsx("option",{value:"resolved",children:"Resolved"}),e.jsx("option",{value:"closed",children:"Closed"})]}),e.jsxs("select",{value:l.type||"",onChange:s=>o("type",s.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"All Types"}),e.jsx("option",{value:"general",children:"General"}),e.jsx("option",{value:"bug_report",children:"Bug Report"}),e.jsx("option",{value:"feature_request",children:"Feature Request"}),e.jsx("option",{value:"support",children:"Support"})]}),e.jsxs("select",{value:l.priority||"",onChange:s=>o("priority",s.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"All Priority"}),e.jsx("option",{value:"low",children:"Low"}),e.jsx("option",{value:"medium",children:"Medium"}),e.jsx("option",{value:"high",children:"High"}),e.jsx("option",{value:"urgent",children:"Urgent"})]})]})]})}),n.length>0&&e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm text-blue-800",children:[n.length," item(s) selected"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>x("mark_resolved"),className:"px-3 py-1 bg-green-600 text-white rounded text-sm hover:bg-green-700",children:"Mark Resolved"}),e.jsx("button",{onClick:()=>x("mark_in_progress"),className:"px-3 py-1 bg-yellow-600 text-white rounded text-sm hover:bg-yellow-700",children:"Mark In Progress"}),e.jsx("button",{onClick:()=>x("delete"),className:"px-3 py-1 bg-red-600 text-white rounded text-sm hover:bg-red-700",children:"Delete"})]})]})}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left",children:e.jsx("input",{type:"checkbox",checked:n.length===t.data.length&&t.data.length>0,onChange:k,className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"})}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Feedback"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Priority"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rating"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.data.map(s=>{const r=N[s.type]||p;return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsx("input",{type:"checkbox",checked:n.includes(s.id),onChange:()=>_(s.id),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(r,{className:"w-5 h-5 text-gray-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:s.name}),e.jsx("div",{className:"text-sm text-gray-500",children:s.email}),e.jsx("div",{className:"text-sm text-gray-600 mt-1 line-clamp-2",children:s.message})]})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:s.type.replace("_"," ")})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${f[s.status]}`,children:s.status.replace("_"," ")})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${v[s.priority]}`,children:s.priority})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center",children:[[...Array(5)].map((g,y)=>e.jsx($,{className:`w-4 h-4 ${y<s.rating?"text-yellow-400 fill-current":"text-gray-300"}`},y)),e.jsxs("span",{className:"ml-2 text-sm text-gray-600",children:[s.rating,"/5"]})]})}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:new Date(s.created_at).toLocaleDateString()}),e.jsx("td",{className:"px-6 py-4 text-right text-sm font-medium",children:e.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[e.jsx(i,{href:route("admin.feedback.show",s.id),className:"text-blue-600 hover:text-blue-900",children:e.jsx(R,{className:"w-4 h-4"})}),e.jsx("button",{className:"text-green-600 hover:text-green-900",children:e.jsx(D,{className:"w-4 h-4"})})]})})]},s.id)})})]})}),t.links&&e.jsx("div",{className:"bg-white px-4 py-3 border-t border-gray-200 sm:px-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[t.prev_page_url&&e.jsx(i,{href:t.prev_page_url,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:"Previous"}),t.next_page_url&&e.jsx(i,{href:t.next_page_url,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:"Next"})]}),e.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[e.jsx("div",{children:e.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",e.jsx("span",{className:"font-medium",children:t.from})," to"," ",e.jsx("span",{className:"font-medium",children:t.to})," of"," ",e.jsx("span",{className:"font-medium",children:t.total})," results"]})}),e.jsx("div",{children:e.jsx("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:t.links.map((s,r)=>e.jsx(i,{href:s.url||"#",className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${s.active?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"} ${r===0?"rounded-l-md":""} ${r===t.links.length-1?"rounded-r-md":""}`,children:E(s.label)},r))})})]})]})})]})]})]})}export{te as default};
