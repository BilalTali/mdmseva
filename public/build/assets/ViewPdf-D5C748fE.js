import{r as o,j as e,H as p,L as b}from"./app-B7rG-o2v.js";import{A as f}from"./AuthenticatedLayout-DsY28lw4.js";import{F as u}from"./ArrowLeftIcon-3R-c1AQ1.js";import{F as w}from"./Cog6ToothIcon-C_UBHQmY.js";import{F as j}from"./PrinterIcon-DwifpXmn.js";import{F as N,a as m}from"./EyeIcon-CHet5I1W.js";import"./transition-rTlxp94F.js";import"./AuthLogo-BstlY2F2.js";import"./SupportChatWidget-BH2cX72p.js";import"./createLucideIcon-htJommDS.js";function B({auth:c,bill:r,report:a}){const[t,x]=o.useState("bw"),[l,i]=o.useState(!1),n=`/bills/${r.id}/pdf?theme=${t}&preview=1`,d=[{id:"bw",name:"Black & White",color:"bg-gray-700"},{id:"blue",name:"Blue Theme",color:"bg-blue-600"},{id:"green",name:"Green Theme",color:"bg-green-600"},{id:"purple",name:"Purple Theme",color:"bg-purple-600"}],h=()=>{const s=`/bills/${r.id}/pdf?theme=${t}&download=1`;window.open(s,"_blank")},g=()=>{const s=window.open(n,"_blank");s&&(s.onload=()=>s.print())};return e.jsxs(f,{user:c.user,children:[e.jsx(p,{title:`Bill ${r.bill_number}`}),e.jsx("div",{className:"py-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs(b,{href:route("amount-reports.bills.index",a.id),className:"inline-flex items-center text-sm text-gray-600 hover:text-gray-900 mb-4",children:[e.jsx(u,{className:"h-4 w-4 mr-2"}),"Back to Bills"]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:r.bill_number}),e.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["Period ",a.period," • ",r.type_label]})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs("button",{onClick:()=>i(!l),className:"inline-flex items-center px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700",children:[e.jsx(w,{className:"h-5 w-5 mr-2"}),"PDF Options"]}),e.jsxs("button",{onClick:g,className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[e.jsx(j,{className:"h-5 w-5 mr-2"}),"Print"]}),e.jsxs("button",{onClick:h,className:"inline-flex items-center px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700",children:[e.jsx(N,{className:"h-5 w-5 mr-2"}),"Download PDF"]})]})]})]}),l&&e.jsxs("div",{className:"bg-white shadow-lg rounded-lg p-6 mb-8 border-2 border-indigo-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[e.jsx(m,{className:"w-5 h-5 mr-2 text-indigo-600"}),"PDF Theme Selection"]}),e.jsx("button",{onClick:()=>i(!1),className:"text-gray-400 hover:text-gray-600",children:"✕"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:d.map(s=>e.jsxs("button",{onClick:()=>x(s.id),className:`p-4 rounded-lg border-2 transition-all ${t===s.id?"border-indigo-600 shadow-lg bg-indigo-50":"border-gray-200 hover:border-gray-300 hover:shadow-md"}`,children:[e.jsx("div",{className:`w-full h-12 rounded ${s.color} mb-3 shadow-sm`}),e.jsx("p",{className:"text-sm font-semibold text-gray-900",children:s.name})]},s.id))})]}),e.jsxs("div",{className:"bg-white shadow-sm rounded-lg p-6 mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"text-lg font-medium text-gray-900 flex items-center",children:[e.jsx(m,{className:"w-5 h-5 mr-2 text-indigo-600"}),"PDF Preview",e.jsxs("span",{className:"ml-3 px-2 py-1 text-xs bg-indigo-100 text-indigo-700 rounded",children:["Theme: ",d.find(s=>s.id===t)?.name]})]}),e.jsx("button",{onClick:()=>i(!l),className:"text-sm text-indigo-600 hover:text-indigo-800 font-medium",children:"Change Theme"})]}),e.jsx("div",{className:"border-2 border-gray-300 rounded-lg overflow-hidden shadow-inner",style:{height:"800px"},children:e.jsx("iframe",{src:n,className:"w-full h-full",title:`Bill PDF ${r.bill_number}`,allow:"fullscreen"},n)}),e.jsxs("div",{className:"mt-4 flex items-center justify-center space-x-4 text-sm text-gray-600",children:[e.jsx("span",{children:"Use mouse wheel to zoom"}),e.jsx("span",{children:"•"}),e.jsx("span",{children:"Click fullscreen in viewer for better experience"})]})]})]})})]})}export{B as default};
