import{j as e,H as u,L as d,a as N}from"./app-DTibhLhK.js";import{A as v}from"./AuthenticatedLayout-C_q-P71k.js";import{T as w}from"./trending-down-BIqyxpH1.js";import{S as k}from"./square-pen-DB9H1f5y.js";import{T}from"./trash-2-CeE4Bgxb.js";import{D as C}from"./download-G-DJJfM9.js";import{C as D}from"./calendar-l0-c_AW7.js";import{P as M}from"./plus-R9eo8wO_.js";import{F as _}from"./SupportChatWidget-Dou21Zk3.js";import{D as F}from"./dollar-sign-BraSOc8d.js";import"./transition-B6XJw7kz.js";import"./AuthLogo-By0jpm9W.js";import"./createLucideIcon-CoYzo3AD.js";function J({auth:y,consumptions:r=[],schoolType:A,sections:L,enrollment:$,currentMonth:i,currentYear:s,monthName:x="",openingBalance:j=0,closingBalance:a=0,totalPrimaryStudents:n=0,totalMiddleStudents:c=0,totalStudents:o=0,totalRiceConsumed:m=0,totalAmountConsumed:p=0,totalDays:h=0,primaryRiceRate:b=.1,middleRiceRate:f=.15,error:g}){return e.jsxs(v,{user:y.user,header:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("h2",{className:"font-semibold text-xl text-[var(--text-primary)] leading-tight",children:["Daily Consumption - ",x," ",s]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs("a",{href:`/daily-consumptions/export?month=${i}&year=${s}&format=xlsx`,className:"inline-flex items-center justify-center px-4 py-2.5 bg-emerald-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-emerald-700 transition min-h-[44px]",children:[e.jsx(C,{className:"w-4 h-4 mr-2"}),"Export"]}),e.jsxs(d,{href:route("daily-consumptions.index"),className:"inline-flex items-center justify-center px-4 py-2.5 bg-gray-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-gray-700 transition min-h-[44px]",children:[e.jsx(D,{className:"w-4 h-4 mr-2"}),"Change Month"]}),e.jsxs(d,{href:route("daily-consumptions.create",{month:i,year:s}),className:"inline-flex items-center justify-center px-4 py-2.5 bg-blue-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-blue-700 transition min-h-[44px]",children:[e.jsx(M,{className:"w-4 h-4 mr-2"}),"Add Entry"]}),e.jsxs(d,{href:`/rice-reports/create?month=${i}&year=${s}`,className:"inline-flex items-center justify-center px-4 py-2.5 bg-green-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-green-700 transition min-h-[44px]",children:[e.jsx(_,{className:"w-4 h-4 mr-2"}),"Rice Report"]}),e.jsxs(d,{href:`/amount-reports/create?month=${i}&year=${s}`,className:"inline-flex items-center justify-center px-4 py-2.5 bg-purple-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-purple-700 transition min-h-[44px]",children:[e.jsx(F,{className:"w-4 h-4 mr-2"}),"Amount Report"]})]})]}),children:[e.jsx(u,{title:`Daily Consumption - ${x} ${s}`}),e.jsx("div",{className:"py-8 sm:py-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 space-y-6",children:[g&&e.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 rounded",children:e.jsx("p",{className:"text-red-700",children:g})}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow p-5 sm:p-4",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Opening Balance"}),e.jsxs("p",{className:"text-2xl sm:text-3xl font-bold text-blue-600",children:[j," kg"]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-5 sm:p-4",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Total Rice Consumed"}),e.jsxs("p",{className:"text-2xl sm:text-3xl font-bold text-orange-600",children:[m," kg"]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-5 sm:p-4",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Closing Balance"}),e.jsxs("p",{className:`text-2xl sm:text-3xl font-bold ${a<0?"text-red-600":"text-green-600"}`,children:[a," kg"]}),a<0&&e.jsxs("div",{className:"flex items-center text-red-600 text-xs mt-2",children:[e.jsx(w,{className:"w-3 h-3 mr-1"}),"Deficit"]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-5 sm:p-4",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Total Amount Spent"}),e.jsxs("p",{className:"text-2xl sm:text-3xl font-bold text-purple-600",children:["₹",p.toFixed(2)]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 px-6 py-4",children:e.jsxs("h3",{className:"text-lg font-bold text-white flex items-center",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"})}),"Rice Consumption Details - ",x," ",s]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-center text-xs font-semibold text-gray-700 uppercase",children:"S.No."}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase",children:"Date"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase",children:"Day"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold text-gray-700 uppercase",children:"Primary"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold text-gray-700 uppercase",children:"Middle"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold text-gray-700 uppercase",children:"Total"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold text-gray-700 uppercase",children:"Primary Rice (kg)"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold text-gray-700 uppercase",children:"Middle Rice (kg)"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold text-gray-700 uppercase",children:"Total Rice (kg)"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold text-gray-700 uppercase",children:"Balance (kg)"}),e.jsx("th",{className:"px-4 py-3 text-center text-xs font-semibold text-gray-700 uppercase",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.length===0?e.jsx("tr",{children:e.jsxs("td",{colSpan:"11",className:"px-4 py-8 text-center text-gray-500",children:["No consumption records for ",x," ",s,'. Click "Add Entry" to start.']})}):r.map((t,l)=>e.jsxs("tr",{className:"hover:bg-gray-50 transition",children:[e.jsx("td",{className:"px-4 py-3 text-sm text-center text-gray-600 font-medium",children:l+1}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:t.day||""}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:t.dayName||""}),e.jsx("td",{className:"px-4 py-3 text-sm text-right text-gray-900",children:t.served_primary||0}),e.jsx("td",{className:"px-4 py-3 text-sm text-right text-gray-900",children:t.served_middle||0}),e.jsx("td",{className:"px-4 py-3 text-sm text-right font-semibold text-gray-900",children:t.total_served||0}),e.jsx("td",{className:"px-4 py-3 text-sm text-right text-blue-600 font-medium",children:Number(t.rice_primary||0).toFixed(2)}),e.jsx("td",{className:"px-4 py-3 text-sm text-right text-indigo-600 font-medium",children:Number(t.rice_middle||0).toFixed(2)}),e.jsx("td",{className:"px-4 py-3 text-sm text-right text-orange-600 font-semibold",children:Number(t.rice_consumed||0).toFixed(2)}),e.jsx("td",{className:`px-4 py-3 text-sm text-right font-semibold ${Number(t.rice_balance||0)<0?"text-red-600":"text-green-600"}`,children:Number(t.rice_balance||0).toFixed(2)}),e.jsx("td",{className:"px-4 py-3 text-sm text-center",children:e.jsxs("div",{className:"flex items-center justify-center gap-3",children:[e.jsx(d,{href:route("daily-consumptions.edit",t.id),className:"p-2.5 text-blue-600 hover:text-blue-800 hover:bg-blue-50 rounded-lg transition min-w-[44px] min-h-[44px] flex items-center justify-center",title:"Edit Entry",children:e.jsx(k,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>{confirm("Are you sure you want to delete this entry? This will recalculate balances.")&&N.delete(route("daily-consumptions.destroy",t.id))},className:"p-2.5 text-red-600 hover:text-red-800 hover:bg-red-50 rounded-lg transition min-w-[44px] min-h-[44px] flex items-center justify-center",title:"Delete Entry",children:e.jsx(T,{className:"w-5 h-5"})})]})})]},l))}),r.length>0&&e.jsx("tfoot",{className:"bg-blue-50 border-t-2 border-blue-200",children:e.jsxs("tr",{children:[e.jsxs("td",{className:"px-4 py-3 text-sm font-bold text-gray-900",colSpan:"3",children:["TOTAL (",h," days)"]}),e.jsx("td",{className:"px-4 py-3 text-sm font-bold text-right text-gray-900",children:n}),e.jsx("td",{className:"px-4 py-3 text-sm font-bold text-right text-gray-900",children:c}),e.jsx("td",{className:"px-4 py-3 text-sm font-bold text-right text-gray-900",children:o}),e.jsx("td",{className:"px-4 py-3 text-sm font-bold text-right text-blue-600",children:"-"}),e.jsx("td",{className:"px-4 py-3 text-sm font-bold text-right text-indigo-600",children:"-"}),e.jsx("td",{className:"px-4 py-3 text-sm font-bold text-right text-orange-600",children:m.toFixed(2)}),e.jsx("td",{className:`px-4 py-3 text-sm font-bold text-right ${a<0?"text-red-600":"text-green-600"}`,children:a.toFixed(2)}),e.jsx("td",{className:"px-4 py-3 bg-blue-50"})]})})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-purple-700 px-6 py-4",children:e.jsxs("h3",{className:"text-lg font-bold text-white flex items-center",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Amount Consumption Details - ",x," ",s]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-center text-xs font-semibold text-gray-700 uppercase",children:"S.No."}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase",children:"Date"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase",children:"Day"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold text-gray-700 uppercase",children:"Primary Students"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold text-gray-700 uppercase",children:"Middle Students"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold text-gray-700 uppercase",children:"Total Students"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold text-gray-700 uppercase",children:"Amount (₹)"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.length===0?e.jsx("tr",{children:e.jsxs("td",{colSpan:"7",className:"px-4 py-8 text-center text-gray-500",children:["No consumption records for ",x," ",s,'. Click "Add Entry" to start.']})}):r.map((t,l)=>e.jsxs("tr",{className:"hover:bg-gray-50 transition",children:[e.jsx("td",{className:"px-4 py-3 text-sm text-center text-gray-600 font-medium",children:l+1}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:t.day||""}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:t.dayName||""}),e.jsx("td",{className:"px-4 py-3 text-sm text-right text-gray-900",children:t.served_primary||0}),e.jsx("td",{className:"px-4 py-3 text-sm text-right text-gray-900",children:t.served_middle||0}),e.jsx("td",{className:"px-4 py-3 text-sm text-right font-semibold text-gray-900",children:t.total_served||0}),e.jsxs("td",{className:"px-4 py-3 text-sm text-right text-purple-600 font-semibold",children:["₹",Number(t.amount_consumed||0).toFixed(2)]})]},l))}),r.length>0&&e.jsx("tfoot",{className:"bg-purple-50 border-t-2 border-purple-200",children:e.jsxs("tr",{children:[e.jsxs("td",{className:"px-4 py-3 text-sm font-bold text-gray-900",colSpan:"3",children:["TOTAL (",h," days)"]}),e.jsx("td",{className:"px-4 py-3 text-sm font-bold text-right text-gray-900",children:n}),e.jsx("td",{className:"px-4 py-3 text-sm font-bold text-right text-gray-900",children:c}),e.jsx("td",{className:"px-4 py-3 text-sm font-bold text-right text-gray-900",children:o}),e.jsxs("td",{className:"px-4 py-3 text-sm font-bold text-right text-purple-600",children:["₹",p.toFixed(2)]})]})})]})})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("svg",{className:"w-5 h-5 text-blue-600 mr-2 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsxs("div",{className:"text-sm text-blue-800",children:[e.jsx("p",{className:"font-semibold mb-1",children:"Rice Consumption Rates:"}),e.jsxs("p",{children:["• Primary: ",(b*1e3).toFixed(0),"g per student per day"]}),e.jsxs("p",{children:["• Middle: ",(f*1e3).toFixed(0),"g per student per day"]})]})]})})]})})]})}export{J as default};
