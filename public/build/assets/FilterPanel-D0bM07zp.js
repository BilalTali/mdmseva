import{r as n,b as d,j as e}from"./app-B9edM2Qa.js";function F({onApply:g,onReset:x,showDateFilters:b=!1,showSchoolTypeFilter:p=!1,showStatusFilter:f=!1,defaultFilters:a={}}){const[o,i]=n.useState(()=>({...a,state:a.state??"",district_id:a.district_id??"",zone_id:a.zone_id??"",month:a.month??new Date().getMonth()+1,year:a.year??new Date().getFullYear(),school_type:a.school_type??"",status:a.status??"all"})),[j,c]=n.useState([]),[v,l]=n.useState([]),[u,r]=n.useState(!1),[m,h]=n.useState(!1);n.useEffect(()=>{o.state?w(o.state):y()},[o.state]),n.useEffect(()=>{o.district_id?_(o.district_id):l([])},[o.district_id]);const y=async()=>{r(!0);try{const s=await d.get("/api/districts");c(s.data.data||[])}catch(s){console.error("Failed to load districts:",s)}finally{r(!1)}},w=async s=>{r(!0);try{const t=await d.get("/api/districts",{params:{state:s}});c(t.data.data||[])}catch(t){console.error("Failed to load districts:",t)}finally{r(!1)}},_=async s=>{h(!0);try{const t=await d.get(`/api/zones/${s}`);l(t.data.data||[])}catch(t){console.error("Failed to load zones:",t)}finally{h(!1)}},N=s=>{i(t=>({...t,state:s,district_id:"",zone_id:""})),l([])},k=s=>{i(t=>({...t,district_id:s,zone_id:""}))},D=()=>{g(o)},S=()=>{const s={state:"",district_id:"",zone_id:"",month:new Date().getMonth()+1,year:new Date().getFullYear(),school_type:"",status:"all"};i(s),l([]),x(s)},A=new Date().getFullYear(),C=Array.from({length:10},(s,t)=>A-5+t);return e.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Filters"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"State/UT"}),e.jsxs("select",{value:o.state,onChange:s=>N(s.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:[e.jsx("option",{value:"",children:"All States"}),e.jsx("option",{value:"Jammu and Kashmir",children:"Jammu and Kashmir"}),e.jsx("option",{value:"Ladakh",children:"Ladakh"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"District"}),e.jsxs("select",{value:o.district_id,onChange:s=>k(s.target.value),disabled:u,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 disabled:bg-gray-100",children:[e.jsx("option",{value:"",children:u?"Loading...":"All Districts"}),j.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Zone"}),e.jsxs("select",{value:o.zone_id,onChange:s=>i(t=>({...t,zone_id:s.target.value})),disabled:!o.district_id||m,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 disabled:bg-gray-100",children:[e.jsx("option",{value:"",children:m?"Loading...":"All Zones"}),v.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))]})]}),b&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Month"}),e.jsxs("select",{value:o.month,onChange:s=>i(t=>({...t,month:s.target.value})),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:[e.jsx("option",{value:"1",children:"January"}),e.jsx("option",{value:"2",children:"February"}),e.jsx("option",{value:"3",children:"March"}),e.jsx("option",{value:"4",children:"April"}),e.jsx("option",{value:"5",children:"May"}),e.jsx("option",{value:"6",children:"June"}),e.jsx("option",{value:"7",children:"July"}),e.jsx("option",{value:"8",children:"August"}),e.jsx("option",{value:"9",children:"September"}),e.jsx("option",{value:"10",children:"October"}),e.jsx("option",{value:"11",children:"November"}),e.jsx("option",{value:"12",children:"December"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Year"}),e.jsx("select",{value:o.year,onChange:s=>i(t=>({...t,year:s.target.value})),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:C.map(s=>e.jsx("option",{value:s,children:s},s))})]})]}),p&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"School Type"}),e.jsxs("select",{value:o.school_type,onChange:s=>i(t=>({...t,school_type:s.target.value})),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:[e.jsx("option",{value:"",children:"All Types"}),e.jsx("option",{value:"primary",children:"Primary"}),e.jsx("option",{value:"middle",children:"Middle"}),e.jsx("option",{value:"secondary",children:"Secondary"})]})]}),f&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),e.jsxs("select",{value:o.status,onChange:s=>i(t=>({...t,status:s.target.value})),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:[e.jsx("option",{value:"all",children:"All Schools"}),e.jsx("option",{value:"active",children:"Active Only"}),e.jsx("option",{value:"inactive",children:"Inactive Only"})]})]})]}),e.jsxs("div",{className:"mt-6 flex items-center justify-end space-x-3",children:[e.jsx("button",{type:"button",onClick:S,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Reset"}),e.jsx("button",{type:"button",onClick:D,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Apply Filters"})]})]})}export{F};
