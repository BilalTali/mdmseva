# ============================================
# MDM SEVA Portal - Production Environment
# ============================================
# 
# CRITICAL: This file contains production-ready settings
# Copy this file to .env and update with actual production values
# 
# Security Checklist:
# [ ] APP_DEBUG is set to false
# [ ] APP_ENV is set to production
# [ ] Strong APP_KEY generated (php artisan key:generate)
# [ ] Database credentials are secure and rotated
# [ ] SESSION_SECURE_COOKIE is true
# [ ] SSL/TLS certificate installed
# [ ] All sensitive values updated
# ============================================

# Application
APP_NAME="MDM SEVA Portal"
APP_ENV=production
APP_KEY=                    # REQUIRED: Run `php artisan key:generate`
APP_DEBUG=false             # CRITICAL: Must be false in production
APP_URL=https://yourdomain.com  # UPDATE: Your production domain

APP_LOCALE=en
APP_FALLBACK_LOCALE=en
APP_FAKER_LOCALE=en_US

APP_MAINTENANCE_DRIVER=file

# Logging
LOG_CHANNEL=stack
LOG_STACK=daily             # Use daily rotation in production
LOG_DEPRECATIONS_CHANNEL=null
LOG_LEVEL=error             # Only log errors in production

# Database
# CRITICAL: Update with production database credentials
DB_CONNECTION=mysql
DB_HOST=127.0.0.1
DB_PORT=3306
DB_DATABASE=mdmseva_production  # UPDATE: Your production database name
DB_USERNAME=mdmseva_user        # UPDATE: Secure database user
DB_PASSWORD=                    # REQUIRED: Strong password (min 20 chars)

# Session Configuration
# CRITICAL: These settings are required for security
SESSION_DRIVER=redis        # Use Redis for better performance
SESSION_LIFETIME=120
SESSION_ENCRYPT=true        # REQUIRED: Encrypt session data
SESSION_PATH=/
SESSION_DOMAIN=null
SESSION_SECURE_COOKIE=true  # REQUIRED: HTTPS only cookies
SESSION_HTTP_ONLY=true      # REQUIRED: Prevent JavaScript access
SESSION_SAME_SITE=lax       # REQUIRED: CSRF protection

# Broadcasting
BROADCAST_CONNECTION=log

# Filesystem
FILESYSTEM_DISK=local

# Queue
QUEUE_CONNECTION=redis      # Use Redis for better performance

# Cache
CACHE_STORE=redis           # Use Redis for better performance
CACHE_PREFIX=mdmseva_

# Redis Configuration
# UPDATE: Configure Redis for production
REDIS_CLIENT=phpredis
REDIS_HOST=127.0.0.1
REDIS_PASSWORD=null         # UPDATE: Set Redis password if configured
REDIS_PORT=6379
REDIS_DB=0
REDIS_CACHE_DB=1

# Mail Configuration
# UPDATE: Configure production mail server
MAIL_MAILER=smtp
MAIL_HOST=smtp.gmail.com    # UPDATE: Your SMTP server
MAIL_PORT=587
MAIL_USERNAME=              # UPDATE: Your email address
MAIL_PASSWORD=              # UPDATE: App-specific password
MAIL_ENCRYPTION=tls
MAIL_FROM_ADDRESS="noreply@yourdomain.com"  # UPDATE
MAIL_FROM_NAME="${APP_NAME}"

# AWS S3 (for backups and file storage)
# UPDATE: Configure if using S3 for backups
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_DEFAULT_REGION=us-east-1
AWS_BUCKET=
AWS_USE_PATH_STYLE_ENDPOINT=false

# Backup Configuration (Spatie Laravel Backup)
# UPDATE: Configure backup destinations
BACKUP_ARCHIVE_PASSWORD=    # REQUIRED: Strong password for backup encryption
BACKUP_NOTIFICATION_EMAIL=  # UPDATE: Email for backup notifications

# Error Tracking (Sentry)
# UPDATE: Add Sentry DSN for error tracking
SENTRY_LARAVEL_DSN=
SENTRY_TRACES_SAMPLE_RATE=0.1

# Security
# BCRYPT rounds (higher = more secure but slower)
BCRYPT_ROUNDS=12

# Rate Limiting
# Adjust based on your traffic patterns
RATE_LIMIT_LOGIN=5,1        # 5 attempts per minute
RATE_LIMIT_REGISTER=3,1     # 3 attempts per minute
RATE_LIMIT_API=60,1         # 60 requests per minute

# Vite
VITE_APP_NAME="${APP_NAME}"

# ============================================
# PRODUCTION DEPLOYMENT CHECKLIST
# ============================================
# 
# Before deploying to production:
# 
# 1. Environment Configuration
#    [ ] Copy this file to .env
#    [ ] Update all values marked with UPDATE
#    [ ] Generate APP_KEY: php artisan key:generate
#    [ ] Verify APP_DEBUG=false
#    [ ] Verify APP_ENV=production
# 
# 2. Database
#    [ ] Create production database
#    [ ] Update DB_* credentials
#    [ ] Run migrations: php artisan migrate --force
#    [ ] Seed initial data: php artisan db:seed --force
# 
# 3. Cache & Optimization
#    [ ] Install Redis
#    [ ] Clear all caches: php artisan optimize:clear
#    [ ] Cache config: php artisan config:cache
#    [ ] Cache routes: php artisan route:cache
#    [ ] Cache views: php artisan view:cache
# 
# 4. Assets
#    [ ] Build production assets: npm run build
#    [ ] Verify assets are in public/build
# 
# 5. Security
#    [ ] Install SSL/TLS certificate
#    [ ] Configure HTTPS redirect
#    [ ] Set up firewall rules
#    [ ] Verify .env is not web-accessible
#    [ ] Verify .git is not web-accessible
# 
# 6. Monitoring
#    [ ] Configure Sentry for error tracking
#    [ ] Set up uptime monitoring (UptimeRobot)
#    [ ] Configure log rotation
# 
# 7. Backups
#    [ ] Install Spatie Laravel Backup
#    [ ] Configure backup schedule
#    [ ] Test backup restoration
# 
# 8. Performance
#    [ ] Enable OPcache
#    [ ] Configure Redis
#    [ ] Set up CDN for static assets
# 
# 9. Testing
#    [ ] Run all tests: php artisan test
#    [ ] Verify all features work
#    [ ] Test on multiple browsers
# 
# 10. Go Live
#     [ ] Update DNS records
#     [ ] Monitor error logs
#     [ ] Monitor performance
#     [ ] Verify backups are running
# 
# ============================================
